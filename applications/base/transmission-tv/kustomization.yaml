apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: media

helmCharts:
  - name: transmission
    repo: https://jacobcolvin.com/helm-charts/
    version: '0.6.0'
    releaseName: transmission
    namespace: media

    valuesInline:
      nameOverride: tv

      configSecretName: transmission-tv-config

      persistence:
        enabled: true
        existingClaim: tv

      service:
        peer:
          type: LoadBalancer
          ports:
            tcp: 51401
            udp: 51401

      flood:
        enabled: true

        resources:
          requests:
            cpu: 100m
            memory: 4Gi
          limits:
            memory: 8Gi

      resources:
        requests:
          cpu: 500m
          memory: 4096Mi
        limits:
          memory: 4096Mi

resources:
  - config.yaml
  - config-secrets.yaml
