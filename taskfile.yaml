---
# yaml-language-server: $schema=https://taskfile.dev/schema.json

# Taskfile: https://taskfile.dev/
# brew install go-task/tap/go-task
# https://taskfile.dev/integrations/

version: "3"

dotenv: ["{{.ROOT_DIR}}/.env", "{{.HOME}}/.env"]

vars:
  TALOS_DIR: "{{.ROOT_DIR}}/talos"
  TERRAFORM_DIR: "{{.ROOT_DIR}}/terraform"
  ARGO_APP_DIR: "{{.ROOT_DIR}}/applications"

includes:
  argo-cd:
    taskfile: ./.taskfiles/argo-cd/taskfile.yaml
    aliases: [argocd]
  talos:
    taskfile: ./.taskfiles/talos/taskfile.yaml
    dir: "{{.TALOS_DIR}}"
    aliases: [tal]
  external-secrets:
    taskfile: .taskfiles/external-secrets/taskfile.yaml
    aliases: [es]
  rook-ceph:
    taskfile: .taskfiles/rook-ceph/taskfile.yaml
    aliases: [rook]

tasks:
  default:
    silent: true
    cmd: task -l
