"""
This file was generated by the KCL auto-gen tool. DO NOT EDIT.
Editing this file might prove futile when you re-run the KCL auto-gen generate command.
"""
import regex
import k8s.apimachinery.pkg.apis.meta.v1


schema CiliumEnvoyConfig:
    """
    cilium io v2 cilium envoy config

    Attributes
    ----------
    apiVersion : str, default is "cilium.io/v2", required
        APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
    kind : str, default is "CiliumEnvoyConfig", required
        Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    metadata : v1.ObjectMeta, default is Undefined, required
        metadata
    spec : CiliumIoV2CiliumEnvoyConfigSpec, default is Undefined, optional
        spec
    """


    apiVersion: "cilium.io/v2" = "cilium.io/v2"

    kind: "CiliumEnvoyConfig" = "CiliumEnvoyConfig"

    metadata: v1.ObjectMeta

    spec?: CiliumIoV2CiliumEnvoyConfigSpec


schema CiliumIoV2CiliumEnvoyConfigSpec:
    """
    cilium io v2 cilium envoy config spec

    Attributes
    ----------
    backendServices : [CiliumIoV2CiliumEnvoyConfigSpecBackendServicesItems0], default is Undefined, optional
        BackendServices specifies Kubernetes services whose backends are automatically synced to Envoy using EDS.  Traffic for these services is not forwarded to an Envoy listener. This allows an Envoy listener load balance traffic to these backends while normal Cilium service load balancing takes care of balancing traffic for these services at the same time.
    nodeSelector : CiliumIoV2CiliumEnvoyConfigSpecNodeSelector, default is Undefined, optional
        node selector
    resources : [any], default is Undefined, optional
        Envoy xDS resources, a list of the following Envoy resource types: type.googleapis.com/envoy.config.listener.v3.Listener, type.googleapis.com/envoy.config.route.v3.RouteConfiguration, type.googleapis.com/envoy.config.cluster.v3.Cluster, type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment, and type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.Secret.
    services : [CiliumIoV2CiliumEnvoyConfigSpecServicesItems0], default is Undefined, optional
        Services specifies Kubernetes services for which traffic is forwarded to an Envoy listener for L7 load balancing. Backends of these services are automatically synced to Envoy usign EDS.
    """


    backendServices?: [CiliumIoV2CiliumEnvoyConfigSpecBackendServicesItems0]

    nodeSelector?: CiliumIoV2CiliumEnvoyConfigSpecNodeSelector

    resources?: [any]

    services?: [CiliumIoV2CiliumEnvoyConfigSpecServicesItems0]


schema CiliumIoV2CiliumEnvoyConfigSpecBackendServicesItems0:
    """
    cilium io v2 cilium envoy config spec backend services items0

    Attributes
    ----------
    name : str, default is Undefined, required
        Name is the name of a destination Kubernetes service that identifies traffic to be redirected.
    namespace : str, default is Undefined, optional
        Namespace is the Kubernetes service namespace. In CiliumEnvoyConfig namespace defaults to the namespace of the CEC, In CiliumClusterwideEnvoyConfig namespace defaults to "default".
    number : [str], default is Undefined, optional
        Ports is a set of port numbers, which can be used for filtering in case of underlying is exposing multiple port numbers.
    """


    name: str

    namespace?: str

    number?: [str]


schema CiliumIoV2CiliumEnvoyConfigSpecNodeSelector:
    """
    NodeSelector is a label selector that determines to which nodes this configuration applies. If nil, then this config applies to all nodes.

    Attributes
    ----------
    matchExpressions : [CiliumIoV2CiliumEnvoyConfigSpecNodeSelectorMatchExpressionsItems0], default is Undefined, optional
        matchExpressions is a list of label selector requirements. The requirements are ANDed.
    matchLabels : {str:str}, default is Undefined, optional
        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
    """


    matchExpressions?: [CiliumIoV2CiliumEnvoyConfigSpecNodeSelectorMatchExpressionsItems0]

    matchLabels?: {str:str}


    check:
        all _, matchLabels in matchLabels {len(matchLabels) <= _regex_match(str(matchLabels), r"^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$") if matchLabels } if matchLabels


schema CiliumIoV2CiliumEnvoyConfigSpecNodeSelectorMatchExpressionsItems0:
    """
    A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.

    Attributes
    ----------
    key : str, default is Undefined, required
        key is the label key that the selector applies to.
    operator : str, default is Undefined, required
        operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
    values : [str], default is Undefined, optional
        values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
    """


    key: str

    operator: "In" | "NotIn" | "Exists" | "DoesNotExist"

    values?: [str]


schema CiliumIoV2CiliumEnvoyConfigSpecServicesItems0:
    """
    cilium io v2 cilium envoy config spec services items0

    Attributes
    ----------
    listener : str, default is Undefined, optional
        Listener specifies the name of the Envoy listener the service traffic is redirected to. The listener must be specified in the Envoy 'resources' of the same CiliumEnvoyConfig. 
         If omitted, the first listener specified in 'resources' is used.
    name : str, default is Undefined, required
        Name is the name of a destination Kubernetes service that identifies traffic to be redirected.
    namespace : str, default is Undefined, optional
        Namespace is the Kubernetes service namespace. In CiliumEnvoyConfig namespace this is overridden to the namespace of the CEC, In CiliumClusterwideEnvoyConfig namespace defaults to "default".
    ports : [int], default is Undefined, optional
        Ports is a set of service's frontend ports that should be redirected to the Envoy listener. By default all frontend ports of the service are redirected.
    """


    listener?: str

    name: str

    namespace?: str

    ports?: [int]


